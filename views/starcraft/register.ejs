<% include ./partials/header.ejs %>
    <!-- Register Page -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css">
    <div class="container">
        <form class="post-form" action="/starcraft/register" method="POST">
            <h1>Spelupplägg</h1>
            <button onclick="amountPlaying('2on2')" class="btn btn-danger" type="button"><i
                    class="fas fa-user-friends"></i> 2on2</button>
            <button onclick="amountPlaying('3on3')" class="btn btn-primary" type="button"><i class="fas fa-users"></i>
                3on3</button>
            <div id="register-container" style="display: none;">
                <hr>
                <h1>Lag 1</h1>
                <div class="player-container">
                    <div class="form-group selection-container">
                        <label for="exampleFormControlSelect11">Spelare 1</label>
                        <select class="form-control" name="player1Team1" required>
                            <option disabled selected value=""> Välj spelare </option>
                            <% players.forEach(player=> { %>
                                <option value="<%= player._id %>">
                                    <%= player.player %>
                                </option>
                            <% }) %>
                        </select>
                    </div>
                    <div class="form-group selection-container">
                        <label for="player1Team1race">Ras</label>
                        <select class="form-control" name="player1Team1race" required>
                            <option disabled selected value=""> Välj ras </option>
                            <option value="Zerg">Zerg</option>
                            <option value="Protoss">Protoss</option>
                            <option value="Terran">Terran</option>
                        </select>
                    </div>
                </div>
                <div class="player-container">
                    <div class="form-group selection-container">
                        <label for="exampleFormControlSelect12">Spelare 2</label>
                        <select class="form-control" name="player2Team1" required>
                            <option disabled selected value=""> Välj spelare </option>
                            <% players.forEach(player=> { %>
                                <option value="<%= player._id %>">
                                    <%= player.player %>
                                </option>
                            <% }) %>
                        </select>
                    </div>
                    <div class="form-group selection-container">
                        <label for="player2Team1race">Ras</label>
                        <select class="form-control" name="player2Team1race" required>
                            <option disabled selected value=""> Välj ras </option>
                            <option value="Zerg">Zerg</option>
                            <option value="Protoss">Protoss</option>
                            <option value="Terran">Terran</option>
                        </select>
                    </div>
                </div>
                <div class="player-container third-player" style="display: none">
                    <div class="form-group selection-container">
                        <label for="exampleFormControlSelect12">Spelare 3</label>
                        <select class="form-control" name="player3Team1">
                            <option disabled selected value=""> Välj spelare </option>
                            <% players.forEach(player=> { %>
                                <option value="<%= player._id %>">
                                    <%= player.player %>
                                </option>
                            <% }) %>
                        </select>
                    </div>
                    <div class="form-group selection-container">
                        <label for="player3Team1race">Ras</label>
                        <select class="form-control" name="player3Team1race">
                            <option disabled selected value=""> Välj ras </option>
                            <option value="Zerg">Zerg</option>
                            <option value="Protoss">Protoss</option>
                            <option value="Terran">Terran</option>
                        </select>
                    </div>
                </div>
                <div class="radio">
                    <label><input type="radio" name="optradio" value="team1Win" required> Vinst</label>
                </div>
                <hr>
                <h1>Lag 2</h1>
                <div class="player-container">
                    <div class="form-group selection-container">
                        <label for="exampleFormControlSelect21">Spelare 1</label>
                        <select class="form-control" name="player1Team2" required>
                            <option disabled selected value=""> Välj spelare </option>
                            <% players.forEach(player=> { %>
                                <option value="<%= player._id %>">
                                    <%= player.player %>
                                </option>
                            <% }) %>
                        </select>
                    </div>
                    <div class="form-group selection-container">
                        <label for="player1Team2race">Ras</label>
                        <select class="form-control" name="player1Team2race" required>
                            <option disabled selected value=""> Välj ras </option>
                            <option value="Zerg">Zerg</option>
                            <option value="Protoss">Protoss</option>
                            <option value="Terran">Terran</option>
                        </select>
                    </div>
                </div>
                <div class="player-container">
                    <div class="form-group selection-container">
                        <label for="exampleFormControlSelect22">Spelare 2</label>
                        <select class="form-control" name="player2Team2" required>
                            <option disabled selected value=""> Välj spelare </option>
                            <% players.forEach(player=> { %>
                                <option value="<%= player._id %>">
                                    <%= player.player %>
                                </option>
                            <% }) %>
                        </select>
                    </div>
                    <div class="form-group selection-container">
                        <label for="player2Team2race">Ras</label>
                        <select class="form-control" name="player2Team2race" required>
                            <option disabled selected value=""> Välj ras </option>
                            <option value="Zerg">Zerg</option>
                            <option value="Protoss">Protoss</option>
                            <option value="Terran">Terran</option>
                        </select>
                    </div>
                </div>
                <div class="player-container third-player" style="display: none">
                    <div class="form-group selection-container">
                        <label for="exampleFormControlSelect23">Spelare 3</label>
                        <select class="form-control" name="player3Team2">
                            <option disabled selected value=""> Välj spelare </option>
                            <% players.forEach(player=> { %>
                                <option value="<%= player._id %>">
                                    <%= player.player %>
                                </option>
                            <% }) %>
                        </select>
                    </div>
                    <div class="form-group selection-container">
                        <label for="player3Team2race">Ras</label>
                        <select class="form-control" name="player3Team2race">
                            <option disabled selected value=""> Välj ras </option>
                            <option value="Zerg">Zerg</option>
                            <option value="Protoss">Protoss</option>
                            <option value="Terran">Terran</option>
                        </select>
                    </div>
                </div>
                <div class="radio">
                    <label><input type="radio" name="optradio" value="team2Win" required> Vinst</label>
                </div>
                <br>
                <div class="form-group">
                    <button class="btn btn-success btn-lg btn-block">Lägg in Resultat</button>
                </div>
            </div>
        </form>
    </div>
    </body>

    <script>
        function amountPlaying(type){
            //getters
            document.querySelector("#register-container").style.display = "";
            if (type === '3on3') {
                document.querySelectorAll(".third-player").forEach(div => {
                    div.style.display = "";
                });
            } 
            else if (type === '2on2') {
                document.querySelector("#register-container").style.display = "";
                document.querySelectorAll(".third-player").forEach(div => {
                    div.style.display = "none";
                });
            }
        }
    </script>
    <script src="js/assets/jquery-3.3.1.min.js"></script>
    <script src="js/js/bootstrap.min.js"></script>

    </html>